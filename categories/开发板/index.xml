<?xml version="1.0" encoding="utf-8" standalone="yes"?><?xml-stylesheet href="/feed_style.xsl" type="text/xsl"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:media="https://www.rssboard.org/media-rss">
  <channel>
    <title>开发板 on sorgDream&#39;s Blog</title>
    <link>https://blog.sorgdream.com/categories/%E5%BC%80%E5%8F%91%E6%9D%BF/</link>
    <description>Recent content in 开发板 on sorgDream&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <copyright>sorgDream - [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/)</copyright>
    <lastBuildDate>Wed, 23 Aug 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.sorgdream.com/categories/%E5%BC%80%E5%8F%91%E6%9D%BF/index.xml" rel="self" type="application/rss+xml" /><icon>https://blog.sorgdream.com/avatar.jpg</icon>
    
    
    <item>
      <title>家庭网络优化</title>
      <link>https://blog.sorgdream.com/posts/ipv6/</link>
      <pubDate>Wed, 23 Aug 2023 00:00:00 +0000</pubDate>
      
      <guid>https://blog.sorgdream.com/posts/ipv6/</guid>
      <description><![CDATA[<h2 id="开启ipv6">开启IPV6</h2>
<p>上一篇文章用开发板搭建了alist，mc服务器，但没有公网ip，只能局域网下访问，我当然不能忍，这篇文章讲述我如何获取公网ipv6和踩的一些坑</p>
<h3 id="光猫配置">光猫配置</h3>
<p>首先进入光猫的后台，我的猫是华为的老东西了，用普通的账号<code>root</code>密码<code>admin</code>进是能进去，但是很多设置只能看，改不了，于是我查遍bing，终于找到了适合我的超级管理员密码，大家可以试试</p>
<pre tabindex="0"><code>账号:telecomadmin
密码:admintelecom
</code></pre><p>输入密码进入后台，找到<code>wan</code>设置，把路由器的wan改为<code>桥接</code>，并把<strong>ipv4</strong>改为<code>ipv4/ipv6</code>如果是灰色的不能更改，请按下面的步骤设置，以chrome为例</p>
<p>在不能点击的ipv4设置上右键，点击<strong>检查</strong>，查看时候有<code>disable</code>属性，如果有的话，对准属性右键，点击<code>edit attribute</code>删除disable，不需要关闭，直接点击ipv4就应该能设置了<strong>需要注意的是，如果用普通账号登陆，比如上面的root，你是无法设置开启ipv6的，即使删去disable，点击应用后仍然是ipv4</strong></p>
<h3 id="路由器开启ipv6">路由器开启ipv6</h3>
<p>光猫设置完成了，现在你应该是没网的状态，别慌，登陆路由器后台，以小米路由器为例，点击<strong>常用设置-上网设置</strong>，开启ipv6,上网方式选择<strong>native</strong>，然后在上网设置里选择<strong>PPoE</strong>拨号上网，输入你的宽带帐号密码</p>
<p>这时候可能有小伙伴问，如果忘了怎么办呢？没关系，这里有两种解决办法</p>
<ol>
<li>以移动为例，关注微信公众号中国移动10086,直接找人工客户，把你办宽带用的电话给他，叫他帮你查</li>
<li>也可以用手机登陆小米路由器后台，点击右下角宽带账号信息即可查看</li>
</ol>
<p>输入正确的帐号密码，这下应该能成功连上网了，等一会，你会发现后台出现了ipv6的地址，访问ipv6测试如果成绩是10/10那么说明你就成功了(如果不行的话重启路由器和光猫试试)</p>
<h2 id="关闭防火墙">关闭防火墙</h2>
<p>得到公网ipv6之后，可能会有小伙伴发现在局域网内可以通过ipv6访问，但使用流量就不行，很大原因是你路由器有ipv6防火墙，拒绝外网访问，我们需要关闭才能从流量访问，</p>
<p>因为低端的小米路由器默认是没有关闭防火墙的开关的，所以我们需要ssh连接路由器进行手动配置</p>
<p>温馨提示：此教程可能不适用于较新的路由器，作者用的是红米AC2100</p>
<ol>
<li>首先登陆你路由器的后台，然后查看地址栏，找到<code>stok=xxxxxxxx</code>把<code>=</code>到<code>/</code>中间的复制下来</li>
<li>浏览器输入以下内容 &lt; stok &gt;换成你上面复制的内容，如果输出{&ldquo;code&rdquo;:0}那就是成功</li>
</ol>
<pre tabindex="0"><code class="language-url" data-lang="url">http://192.168.31.1/cgi-bin/luci/;stok=&lt;STOK&gt;/api/misystem/set_config_iotdev?bssid=Xiaomi&amp;user_id=longdike&amp;ssid=-h%3B%20nvram%20set%20ssh_en%3D1%3B%20nvram%20commit%3B%20sed%20-i%20&#39;s%2Fchannel%3D.*%2Fchannel%3D%5C%22debug%5C%22%2Fg&#39;%20%2Fetc%2Finit.d%2Fdropbear%3B%20%2Fetc%2Finit.d%2Fdropbear%20start%3B
</code></pre><ol start="3">
<li>浏览器进入，同样，&lt; STOK &gt;换成自己stok</li>
</ol>
<pre tabindex="0"><code class="language-url" data-lang="url">http://192.168.31.1/cgi-bin/luci/;stok=&lt;STOK&gt;/api/misystem/set_config_iotdev?bssid=Xiaomi&amp;user_id=longdike&amp;ssid=-h%3B%20echo%20-e%20&#39;admin%5Cnadmin&#39;%20%7C%20passwd%20root%3B
</code></pre><ol start="4">
<li>
<p>完成后，使用<code>ssh root@192.168.31.1</code>连接路由器，密码为<code>admin</code> 看到大大的<code>ARE U ok</code>就代表成功了</p>
</li>
<li>
<p>因为openssh7.0以后的版本不再支持ssh-dss(DSA)算法，所以可能会报错，尝试使用以下命令连接</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>ssh -oHostKeyAlgorithms<span style="color:#f92672">=</span>+ssh-rsa root@192.168.31.1
</span></span></code></pre></div><ol start="6">
<li>连上以后就好办了，使用<code>vi /etc/config/firewall</code>修改配置文件,修改config defaults改为</li>
</ol>
<pre tabindex="0"><code>config defaults
        option syn_flood &#39;0&#39;
        option input &#39;ACCEPT&#39;
        option output &#39;ACCEPT&#39;
        option forward &#39;ACCEPT&#39;
        option drop_invalid &#39;0&#39;
        option disable_ipv6 &#39;0&#39;
</code></pre><ol start="7">
<li>最后重启防火墙</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>/etc/init.d/firewall restart
</span></span></code></pre></div><h2 id="拓展">拓展</h2>
<p>因为运营商分配的大都是动态ipv6，顾名思义，就是ip过一段时间就会变，<del>你也不想玩着玩着突然服务器没了吧</del></p>
<h3 id="域名购买">域名购买</h3>
<p>要解决上述问题，只需要有一个域名进行ddns解析即可</p>
<p><!-- raw HTML omitted -->我们可以到<a href="https://cn.aliyun.com/">阿里云</a>购买域名（这里需要注意的是，请尽量不要购买<code>.xyz</code>的域名，因为续费真的很贵</p>
<ol>
<li>支付宝登陆阿里云</li>
<li>搜索域名，输入你喜欢的域名，选择后缀，这里有钱的直接上.com，没钱的随便选个便宜的，但是一定要看续费，除非你只用一年</li>
<li>点击右上角购物车购买，买前需要创建一个信息模板和需要实名认证，未成年也能注册</li>
<li>买完后点击右上角AccessKey，创建一个key，一定不要分享给别人，最好把csv下载下来</li>
<li>在域名控制台-域名解析中，点击添加记录，记录类型设置为AAAA当然你有公网ipv4也可以多添加一个A类型的</li>
</ol>
<h3 id="ddns-go">DDNS-GO</h3>
<blockquote>
<p>简单好用的DDNS。自动更新域名解析到公网IP(支持阿里云、腾讯云、Dnspod、Cloudflare、Callback、华为云、百度云、Porkbun、GoDaddy、Google Domain)</p>
</blockquote>
<p>到了这一步，你应该得到了一个属于你的域名，恭喜你，这时候可以设置<code>ddns动态解析了</code>了</p>
<ol>
<li>我用的是ddns-go，在github上面就能找到</li>
<li>下载适合自己架构和系统的压缩包，解压到你喜欢的位置，使用sudo ./ddns-go -s install安装ddns-go</li>
<li>在浏览器输入<code>http://127.0.0.1:9876/</code>登陆后台（如果像我一样，使用ssh远程控制开发板，输入开发板的ip:9876/也可以进入后台）</li>
<li>DNS服务商选择自己注册域名的服务商</li>
<li>AccessKeyID和secret是上面创建的，有的服务商没有id着一个选项</li>
<li>获取ip的方式接口或网卡都行</li>
<li>Domains填入自己的域名和二级域名</li>
<li>点击save保存即可完成配置</li>
</ol>
<p>之后尝试用域名+网站端口访问网站，ssh也可以使用username@域名访问，流量访问也要试下</p>
<p>Enjoy</p>
<h2 id="后记">后记</h2>
<p>不知道是设置问题还是光猫太老了，ipv6过一段时间就会实效，需要手动重启光猫和机顶盒</p>
<h2 id="参考部分引用">参考|部分引用</h2>
<p><a href="https://blog.csdn.net/skyxc233/article/details/107284478i">关闭小米路由器防火墙 放行端口</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/260531160">小米、红米 AC2100 一键开启 SSH，可自定义安装各种插件</a></p>
<p><a href="https://zhidao.baidu.com/question/201179930957973045/answer/3652646687.html">华为光猫超级密码多少</a></p>
<p><a href="https://github.com/jeessy2/ddns-go">ddns-go</a></p>]]></description>
      
    </item>
    
    
    
    <item>
      <title>香橙派zero3</title>
      <link>https://blog.sorgdream.com/posts/orangepi/</link>
      <pubDate>Thu, 10 Aug 2023 00:00:00 +0000</pubDate>
      
      <guid>https://blog.sorgdream.com/posts/orangepi/</guid>
      <description><![CDATA[<h2 id="基础配置">基础配置</h2>
<table>
<thead>
<tr>
<th>CPU</th>
<th>全志H618高性能四核Cortex-A53处理器 1.5GHz</th>
</tr>
</thead>
<tbody>
<tr>
<td>GPU</td>
<td>Mali G31 MP2</td>
</tr>
<tr>
<td>RAM</td>
<td>1GB/1.5GB/2GB/4GB LPDDR4</td>
</tr>
<tr>
<td>储存</td>
<td>16MB SPI Flash</td>
</tr>
<tr>
<td>板载WiFi+蓝牙</td>
<td>WiFi5和蓝牙5.0</td>
</tr>
<tr>
<td>网络</td>
<td>10M/100M/1000M以太网接口</td>
</tr>
<tr>
<td>音频输入、输出</td>
<td>13Pin扩展端口支持2路输出1路输入</td>
</tr>
<tr>
<td>视频输出</td>
<td>Micro HDMI支持4K@60fps</td>
</tr>
<tr>
<td>USB</td>
<td>USB 2.0 x 3（需搭配扩展版）</td>
</tr>
<tr>
<td>SD卡接口</td>
<td>Micro SD</td>
</tr>
<tr>
<td>电源输入</td>
<td>5V3A，Type-c接口</td>
</tr>
<tr>
<td>拓展接口</td>
<td>26Pin GPIO接口 &amp;&amp; 13Pin GPIO接口</td>
</tr>
</tbody>
</table>
<p>因为原本买它是用来搭建mc服务器的，所以ram选择4g版</p>
<h2 id="安装系统">安装系统</h2>
<p>开发版出场带一个微型的linxu，因为板载储存只有16m，所以仅供测试使用，我们需要刷入一个新的系统</p>
<h3 id="格式化">格式化</h3>
<p>我用的是京东京造麒麟128g的sd卡，第一次直接用balena写入镜像，插入能识别到卡但还是默认的微型Linux，所以改sd card formatter格式化之后再用win32写入，工具再官网即可下载，系统镜像也可在此下载（万恶的百度网盘）</p>
<p>BTW，买完后最好还是看一遍用户手册，写的还是比较详细的，能帮助快速入门</p>
<h3 id="刷入">刷入</h3>
<p>直接将写入系统的的sd卡怼到卡槽，重启就完事了</p>
<h3 id="登陆">登陆</h3>
<p>因为没有屏幕，所以我们需要使用ssh来远程控制，先接上网线，注意，网线的另一头要接到路由器上
<!-- raw HTML omitted -->登陆路由器后台，找到orangepi3,查看设备ip，使用<code>ssh root@ip</code>登陆
<!-- raw HTML omitted -->如果在用windows的话可以使用mobaxterm进行图形化登陆</p>
<p>如果登不上后台，可以使用<code>ifconfig</code>获取网络信息</p>
<ol>
<li>使用<code>sudo pacman -S net-tools nmap</code>安装所需包</li>
<li>执行命令后找到<code>inet 192.168.xx.xxx</code>这一行</li>
<li>使用<code>nmap 192.168.xx.0/24</code>扫描局域网下的设备</li>
<li>找到类似<code>Nmap scan report for orangepizero3 (192.168.xx.xxx)</code>就是香橙派的IP,ssh连接即可</li>
</ol>
<h2 id="系统配置">系统配置</h2>
<p>和普通的linxu一样，我们首先进行换源，作者选择<a href="https://mirrors.tuna.tsinghua.edu.cn/help/debian/">清华源</a>,系统debian，其他的例如ubuntu也可以在镜像站找到
<!-- raw HTML omitted -->因为debian普通用户默认不再sudo组的，所以我们直接以root用户登陆</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>apt install vim 
</span></span></code></pre></div><p>使用<code>vim /etc/apt/sources.lis</code>修改，将源改为清华大学源
<!-- raw HTML omitted --><code>:wq</code>保存并退出修改</p>
<p>软件自带了python、zsh我们这里安装一个<code>neofetch</code>来砍下系统是否为debian</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>apt install neofetch
</span></span></code></pre></div><p>让我们来n以下</p>
<pre tabindex="0"><code>neofetch
</code></pre><p>有圈圈似的图案就说明Debian已经成功刷入了，如果图案是企鹅的话就说明我们还在默认的微型Linux</p>
<h2 id="美化">美化</h2>
<p>因为自带了zsh，所以不需要额外安装，使用<code>zsh</code>即可切换
<!-- raw HTML omitted -->使用<code>chsh -s $(which zsh)</code>即可设置默认shell</p>
<h3 id="主题">主题</h3>
<p>选用p10k主题，教程来自<a href="https://github.com/romkatv/powerlevel10k#installation">官方</a>如果慢的话可以克隆gitee镜像</p>
<h3 id="插件">插件</h3>
<p>插件依然选用<a href="https://github.com/zsh-users/zsh-syntax-highlighting">语法高亮</a>和<a href="https://github.com/zsh-users/zsh-autosuggestions">自动补全</a></p>
<p>这里要补充下，因为自动补全少了将插件添加到.zshrc文件这一步，所以导致每次关闭终端再打开就需要重新加载插件，只需要执行这下面的命令就可以将自动补全添加到zsh配置</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;source </span><span style="color:#e6db74">${</span>(q-)PWD<span style="color:#e6db74">}</span><span style="color:#e6db74">/.zsh/zsh-autosuggestions/zsh-autosuggestions.zsh&#34;</span> &gt;&gt; <span style="color:#e6db74">${</span>ZDOTDIR<span style="color:#66d9ef">:-</span>$HOME<span style="color:#e6db74">}</span>/.zshrc
</span></span></code></pre></div><p>如果报错了那请检查自动补全下载到哪个文件夹，然后把<code>.zsh/zsh-autosuggestions/zsh-autosuggestions.zsh</code>替换成自己插件目录里的<code>zsh-autosuggestions.zsh</code>文件的路径</p>
<p><code>${(q-)PWD}/</code>指向当前目录，请在<code>${(q-)PWD}/</code>的后面填写当前目录下插件的位置</p>
<h2 id="时区设置">时区设置</h2>
<p>因为开发板默认是UTC时间，也就是标准时间+0000，所以导致和东八区相差8小时
<!-- raw HTML omitted -->这里参考<a href="https://blog.csdn.net/yongroot/article/details/90676764?spm=1001.2014.3001.5506">CSDN</a>的文章，是我测试唯一有用的一篇</p>
<ol>
<li>使用<code>date -R</code>查看时间</li>
<li>虽然<code>tzselect</code>看上去很像一个设定时区的命令，但是它仅仅只是告诉你该怎么写TZ变量，比如北京时间就是<code>Asia/Shanghai</code>对于想更改时间的小伙伴没什么用</li>
<li>正确的做法是修改TZ变量，使用<code>export TZ= 'Asia/Shanghai'</code>命令设置时间
但是直接修改叉掉终端后又会变回原本的时间，我们需要修改<code>/etc/profile</code>文件来永久设定系统时间</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span> sudo vim /etc/profile
</span></span><span style="display:flex;"><span> export  TZ<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Asia/Shanghai&#39;</span> <span style="color:#75715e">#复制</span>
</span></span><span style="display:flex;"><span> :wq <span style="color:#75715e">#退出</span>
</span></span></code></pre></div><p>这样即使重新登录也还是北京时间</p>
<h2 id="docker">Docker</h2>
<blockquote>
<p>docker是一个用Go语言实现的开源项目，可以让我们方便的创建和使用容器</p>
</blockquote>
<p>在安装宝塔面板前，先安装docker
<!-- raw HTML omitted -->因为开发版自带安装脚本，所以具体步骤请以用户手册为准</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>enable_docker.sh
</span></span></code></pre></div><p>使用以上命令安装，完成后测试一下</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>docker run hello-world
</span></span></code></pre></div><p>如果有输出<code>hello from docker</code>那就是成功了</p>
<h2 id="宝塔面板">宝塔面板</h2>
<p>安装完debian后，为了方便管理，选择安装宝塔面板
<!-- raw HTML omitted -->教程来自用户文档</p>
<ol>
<li>首先我们扩容tmp分区，使用命令查看<code>/tmp</code>分区大小，如果是2G，那就不需要扩容，如果小于2G，执行以下命令扩容</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>df -h | grep <span style="color:#e6db74">&#34;/tmp&#34;</span>  <span style="color:#75715e">#查看分区大小</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sudo sed -i <span style="color:#e6db74">&#39;s/nosuid/&amp;,size=2G/&#39;</span> /etc/fstab   <span style="color:#75715e">#扩容</span>
</span></span></code></pre></div><p>完成后<code>sudo reboot</code>重启下</p>
<ol start="2">
<li>使用<code>sudo install_bt_panel.sh</code>安装宝塔面板，需要的时间比较久，作者用了35分钟</li>
<li>安装完成后，会打印面板地址，如果你有公网ip，那么两个都可以，如果没有还是老老实实用内网地址</li>
<li>进去后会提示安装套件，不知道为什么作者需要从源码编译安装，太耗时间了所以没装完</li>
</ol>
<h2 id="minecraft开服">Minecraft开服</h2>
<p>这也是我买开发板的主要用途，首先查看能安装的Openjdk版本</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sudo apt search openjdk
</span></span></code></pre></div><p>我安装的版本是<code>openjdk-17-jdk</code>具体以你的输出为准</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sudo apt install openjdk-17-jdk <span style="color:#75715e">#安装</span>
</span></span></code></pre></div><p>接下来安装MCSmanager面板
什么是MCSmanager呢？</p>
<blockquote>
<p>分布式，稳定可靠，开箱即用，高扩展性，支持 Minecraft 和其他少数游戏的控制面板</p>
</blockquote>
<p>参考官方文档，使用以下命令安装</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>wget -qO- https://gitee.com/mcsmanager/script/raw/master/setup_cn.sh | bash
</span></span></code></pre></div><p>基础命令</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># 先启动面板守护进程。</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 这是用于进程控制，终端管理的服务进程。</span>
</span></span><span style="display:flex;"><span>systemctl start mcsm-daemon.service
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 再启动面板 Web 服务。</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 这是用来实现支持网页访问和用户管理的服务。</span>
</span></span><span style="display:flex;"><span>systemctl start mcsm-web.service 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 重启面板命令</span>
</span></span><span style="display:flex;"><span>systemctl restart mcsm-daemon.service
</span></span><span style="display:flex;"><span>systemctl restart mcsm-web.service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 停止面板命令</span>
</span></span><span style="display:flex;"><span>systemctl stop mcsm-web.service
</span></span><span style="display:flex;"><span>systemctl stop mcsm-daemon.service
</span></span></code></pre></div><p>启动面板后浏览器输入<code>&lt;IP&gt;:23333</code>进入面板，如果进不去的话去宝塔面板找到安装-添加端口规则，填入<code>23333</code>端口即可</p>
<p>mcs面板实例打不开也可以用此方法</p>
<h2 id="alist">AList</h2>
<p>买开发板还有一个目的就是为了搭建一个个人nas，这里以在docker内安装alist为例</p>
<ol>
<li>为了方便管理，我们先安装一个docker管理器，直接在宝塔的应用商城内搜索即可</li>
<li>使用命令安装Alist</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>docker run -d --restart<span style="color:#f92672">=</span>always -v /etc/alist:/opt/alist/data -p 5244:5244 -e PUID<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> -e PGID<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> -e UMASK<span style="color:#f92672">=</span><span style="color:#ae81ff">022</span> --name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alist&#34;</span> xhofe/alist:latest
</span></span></code></pre></div><ol start="3">
<li>安装完成后使用<code>docker exec -it alist ./alist admin set NEW_PASSWORD</code>设定密码，<code>NEW_PASSWORD</code>改为你要设置的密码
浏览器输入<code>http://&lt;ip&gt;:5244</code>进入alist，账号默认为<code>admin</code></li>
</ol>
<h3 id="alist挂载阿里云">alist挂载阿里云</h3>
<ol>
<li>刷新令牌
<!-- raw HTML omitted -->前往</li>
</ol>
<pre tabindex="0"><code>https://alist.nn.ci/tool/aliyundrive/request.html
</code></pre><p>点击login in，登陆自己的账号即可生成令牌
2. Oauth令牌链接
<!-- raw HTML omitted -->由于原api <code>https://api.nn.ci</code>被sni阻断，导致国内无法连接，所以要添加新的api</p>
<pre tabindex="0"><code>https://api-cf.nn.ci/alist/ali_open/token   #二选一
https://api.xhofe.top/alist/ali_open/token
</code></pre><ol start="3">
<li>云盘类型
<!-- raw HTML omitted -->这里一定要选对，如果错了会导致加载不了，登录阿里云盘手机端4.9.0以上的版本就可以看到。如果不确定可以两个都试试</li>
</ol>
<h3 id="更改密码">更改密码</h3>
<p>如果像我一样忘了密码，可以用</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>docker exec -it alist ./alist admin set NEW_PASSWORD
</span></span></code></pre></div><p>重新设置一个密码，<code>NEW_PASSWORD</code>为你的密码</p>
<h3 id="挂载本地">挂载本地</h3>
<ol>
<li>将要挂载的文件/文件夹移至alist容器内</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> docker cp /home/image-hosting 200adb99680d:/orangepi/web
</span></span></code></pre></div><p># 200adb99680d - 容器ID</p>
<p># /home/image-hosting - 以东的文件夹或目录</p>
<p># /orangepi/web - 目标目录</p>
<p>完成后在后台添加<code>/orangepi</code>即可挂载文件/文件夹</p>
<h2 id="结尾">结尾</h2>
<p>开发板还有许多好玩的东西，比如刷openwrt作软路由，刷android tv作机顶盒等，这里只是列举除了一部分</p>]]></description>
      
    </item>
    
    
  </channel>
</rss>

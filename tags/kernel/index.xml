<?xml version="1.0" encoding="utf-8" standalone="yes"?><?xml-stylesheet href="/feed_style.xsl" type="text/xsl"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:media="https://www.rssboard.org/media-rss">
  <channel>
    <title>Kernel on sorgDream&#39;s Blog</title>
    <link>https://blog.sorgdream.com/tags/kernel/</link>
    <description>Recent content in Kernel on sorgDream&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <copyright>sorgDream - [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/)</copyright>
    <lastBuildDate>Sun, 14 Jan 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.sorgdream.com/tags/kernel/index.xml" rel="self" type="application/rss+xml" /><icon>https://blog.sorgdream.com/avatar.jpg</icon>
    
    
    <item>
      <title>Archä¸‹çš„Kdeé…ç½®</title>
      <link>https://blog.sorgdream.com/posts/arch-kde/</link>
      <pubDate>Sun, 14 Jan 2024 00:00:00 +0000</pubDate>
      
      <guid>https://blog.sorgdream.com/posts/arch-kde/</guid>
      <description><![CDATA[<p>2024å¹´çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œç¥å¤§å®¶æ–°å¹´å¿«ä¹(è™½ç„¶æœ‰ç‚¹è¿Ÿäº†)</p>
<p>è¿™æ®µæ—¶é—´é‡è£…äº†6æ¬¡Archï¼Œ1æ¬¡Debian Testingï¼Œå‡ ä¹å°†ä¸»æµæ¡Œé¢ä½“éªŒå®Œäº†ï¼Œè¡€ä¸æ³ªçš„æ•™è®­ï¼Œwaylandç›®å‰è¿˜ä¸æˆç†Ÿï¼Œé«˜åˆ†å±è¿˜å¾—è€è€å®å®ç”¨x11</p>
<h2 id="èµ·å› ">èµ·å› </h2>
<p>é€›Bç«™æ—¶å¶ç„¶çœ‹åˆ°äº†æœ‰äººå‘<a href="https://www.bilibili.com/read/cv22707313/">Hyprlandçš„é…ç½®</a>ï¼Œå†çœ‹æˆ‘çš„Kdeç¬é—´å°±ä¸é¦™äº†</p>
<p>æ‹¿å‡ºæˆ‘çè—å¤šå¹´çš„Arch Live CD ï¼ŒF12é€‰æ‹©Uç›˜å¯åŠ¨ï¼Œåœ¨ç»è¿‡ä¸€ç³»åˆ—åˆ†åŒºï¼Œç”Ÿæˆfstabï¼Œå¼•å¯¼åï¼ŒæˆåŠŸæ¥åˆ°äº†ç†Ÿæ‚‰çš„ttyç•Œé¢ï¼Œæ¥ä¸‹æ¥ç…§ç€Bç«™çš„æ•™ç¨‹ï¼Œå¼€å§‹å®‰è£…Hyprland</p>
<h2 id="hyprland">Hyprland</h2>
<blockquote>
<p>Hyprland is a highly customizable dynamic tiling Wayland compositor that doesn&rsquo;t sacrifice on its looks.</p>
</blockquote>
<blockquote>
<p>Hyprland æ˜¯ä¸€æ¬¾é«˜åº¦å¯å®šåˆ¶çš„åŠ¨æ€å¹³é“º Wayland åˆæˆå™¨ï¼Œä¸ä¼šç‰ºç‰²å…¶å¤–è§‚ã€‚</p>
</blockquote>
<h3 id="å®‰è£…">å®‰è£…</h3>
<ol>
<li>é¦–å…ˆå®‰è£…Wayland</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pacman -S xorg-xwayland qt5-wayland qt6-wayland glfw-wayland
</span></span></code></pre></div><ol start="2">
<li>å®‰è£…Hyprland</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>paru -S hyprland-bin
</span></span></code></pre></div><ol start="3">
<li>å¤åˆ¶é…ç½®æ–‡ä»¶</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir -pv ~/.config/hypr
</span></span><span style="display:flex;"><span>sudo cp /usr/share/hyprland/hyprland.conf ~/.config/hypr/
</span></span></code></pre></div><ol start="4">
<li>Hyprlandå¯åŠ¨</li>
</ol>
<p>é€šè¿‡ç¼–è¾‘<code>~/.bash_profile</code>å¯åŠ¨(ä¸ä½¿ç”¨æ˜¾ç¤ºç®¡ç†å™¨)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># å¯åŠ¨ wayland æ¡Œé¢å‰è®¾ç½®ä¸€äº›ç¯å¢ƒå˜é‡</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> set_wayland_env
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>	cd <span style="color:#e6db74">${</span>HOME<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># è®¾ç½®è¯­è¨€ç¯å¢ƒä¸ºä¸­æ–‡</span>
</span></span><span style="display:flex;"><span>	export LANG<span style="color:#f92672">=</span>zh_CN.UTF-8
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># è§£å†³QTç¨‹åºç¼©æ”¾é—®é¢˜</span>
</span></span><span style="display:flex;"><span>	export QT_AUTO_SCREEN_SCALE_FACTOR<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># QTä½¿ç”¨waylandå’Œgtk</span>
</span></span><span style="display:flex;"><span>	export QT_QPA_PLATFORM<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wayland;xcb&#34;</span>
</span></span><span style="display:flex;"><span>	export QT_WAYLAND_DISABLE_WINDOWDECORATION<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># ä½¿ç”¨qt5ctè½¯ä»¶é…ç½®QTç¨‹åºå¤–è§‚</span>
</span></span><span style="display:flex;"><span>	export QT_QPA_PLATFORMTHEME<span style="color:#f92672">=</span>qt5ct
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># ä¸€äº›æ¸¸æˆä½¿ç”¨wayland</span>
</span></span><span style="display:flex;"><span>	export SDL_VIDEODRIVER<span style="color:#f92672">=</span>wayland
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># è§£å†³javaç¨‹åºå¯åŠ¨é»‘å±é”™è¯¯</span>
</span></span><span style="display:flex;"><span>	export _JAVA_AWT_WM_NONEREPARENTING<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># GTKåç«¯ä¸º waylandå’Œx11,ä¼˜å…ˆwayland</span>
</span></span><span style="display:flex;"><span>	export GDK_BACKEND<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;wayland,x11&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å‘½ä»¤è¡Œè¾“å…¥è¿™ä¸ªå‘½ä»¤å¯åŠ¨hyprland,å¯ä»¥è‡ªå®šä¹‰</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> start_hyprland
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>	set_wayland_env
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	export XDG_SESSION_TYPE<span style="color:#f92672">=</span>wayland
</span></span><span style="display:flex;"><span>	export XDG_SESSION_DESKTOP<span style="color:#f92672">=</span>Hyprland
</span></span><span style="display:flex;"><span>	export XDG_CURRENT_DESKTOP<span style="color:#f92672">=</span>Hyprland
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># å¯åŠ¨ Hyprlandç¨‹åº</span>
</span></span><span style="display:flex;"><span>	exec Hyprland
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>é‡å¯æˆ–ç›´æ¥<code>source ~/.bash_profile</code>ä½¿é…ç½®ç”Ÿæ•ˆï¼Œè¾“å…¥<code>start_hyprland</code>å¯åŠ¨</p>
<h3 id="åº”ç”¨å®‰è£…">åº”ç”¨å®‰è£…</h3>
<p>åˆšè¿›å…¥æ¡Œé¢ï¼Œä½ ä¼šå‘ç°ä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Œå…ˆè£…ä¸ªç»ˆç«¯å’Œä¸­æ–‡å­—ä½“</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S kitty wqy-zenhei
</span></span></code></pre></div><p>ä½¿ç”¨å¿«æ·é”®<code>Super+Q</code>å³å¯å¯åŠ¨(Superé”®é»˜è®¤ä¸ºWIN)</p>
<p>è²Œä¼¼ä¸€åˆ‡éƒ½å¾ˆå®Œç¾ï¼Œè®©æˆ‘ä»¬è£…ä¸ªQQè¯•é€</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>paru -S linuxqq
</span></span></code></pre></div><p>æ‰“å¼€åä½ ä¼šå‘ç°å­—ä½“å˜å¾—å¾ˆæ¨¡ç³Šï¼Œä¸æ­¢qq,å…¶ä»–ç¨‹åºåœ¨waylandç¼©æ”¾ä¸‹çš„æ˜¾ç¤ºéƒ½ä¸å¤ªå¥½</p>
<h2 id="gnome">Gnome</h2>
<blockquote>
<p>GNOME originally an acronym for GNU Network Object Model Environment,is a free and open-source desktop environment for Linux and other Unix-like operating systems.</p>
</blockquote>
<blockquote>
<p>GNOMEæ˜¯ä¸€ä¸ªå®Œå…¨ç”±è‡ªç”±è½¯ä»¶ç»„æˆçš„æ¡Œé¢ç¯å¢ƒã€‚å®ƒçš„ç›®æ ‡æ“ä½œç³»ç»Ÿæ˜¯Linuxï¼Œä½†æ˜¯å¤§éƒ¨åˆ†çš„BSDç³»ç»Ÿäº¦æ”¯æŒGNOMEã€‚</p>
</blockquote>
<p>å› ä¸ºHyprlandçš„å­—ä½“é—®é¢˜ï¼Œæˆ‘å›åˆ°äº†ä¸€å¼€å§‹ç”¨çš„gnome;ä½†å› ä¸ºä½¿ç”¨waylandçš„åŸå› ï¼Œqqä¸‹çš„å­—ä½“è¿˜æ˜¯æ¨¡ç³Šï¼Œè€Œä¸”ç¼©æ”¾æœ‰é—®é¢˜ï¼Œ200%ä¼šä½¿å­—ä½“å’Œçª—å£è¿‡å¤§ï¼Œ100%å­—åˆå¤ªå°</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>gsettings set org.gnome.mutter experimental-features <span style="color:#e6db74">&#34;[&#39;scale-monitor-framebuffer&#39;]&#34;</span>
</span></span></code></pre></div><p>ä½¿ç”¨æ­¤å‘½ä»¤å¼€å¯åˆ†æ•°ç¼©æ”¾</p>
<p>ç¼©æ”¾æ˜¯è§£å†³äº†ï¼Œä½†å­—ä½“çš„é—®é¢˜ä¾æ—§ï¼Œç›®å‰æ²¡æ‰¾åˆ°å®Œç¾çš„è§£å†³æ–¹æ¡ˆï¼Œåªèƒ½ç”¨<code>Tweaks</code>å·¥å…·è°ƒæ•´å­—ä½“å¤§å°</p>
<h2 id="cinnamon">Cinnamon</h2>
<blockquote>
<p>Cinnamon, forked from GNOME Shell, is the &ldquo;shell&rdquo; of Cinnamon. It provides the user interface such as panels, hot corners, menus etc. The ui is written in JavaScript, while its core libraries are written in C.</p>
</blockquote>
<blockquote>
<p>Cinnamonæ˜¯ç±»Unixç³»ç»Ÿä¸‹çš„ä¸€ä¸ªæ¡Œé¢ç¯å¢ƒã€‚æœ€åˆæ˜¯GNOME Shellçš„ä¸€ä¸ªæ´¾ç”Ÿç‰ˆæœ¬ï¼Œç”±Linux Mintå¼€å‘ï¼Œæä¾›äº†ç›¸ä¼¼äºGNOME 2ï¼Œæ˜“äºä½¿ç”¨çš„ä¼ ç»Ÿç”¨æˆ·ç•Œé¢ï¼Œä»Cinnamon 2.0å¼€å§‹ï¼Œæˆä¸ºç‹¬ç«‹çš„æ¡Œé¢ç¯å¢ƒã€‚</p>
</blockquote>
<p>ä¸€ä¸ªç”±Mintå¼€å‘çš„æ¡Œé¢ï¼Œä¹Ÿæ˜¯Linux Mintçš„é»˜è®¤æ¡Œé¢</p>
<p>Cinnamonä¸åŒäºå‰ä¸¤ä¸ªï¼Œä½¿ç”¨çš„æ˜¯x11ï¼Œæ‰€ä»¥åŸºæœ¬æ²¡æœ‰å­—ä½“å’Œç¼©æ”¾é—®é¢˜ï¼Œè€Œä¸”æ¡Œé¢å’Œå‘ç”Ÿç‰ˆéƒ½å¾ˆé€‚åˆæ–°æ‰‹ï¼ŒDebianç³»çš„åŒ…ä¹Ÿæ¯”è¾ƒå¤š</p>
<p>ä½†æˆ‘ä¸æ˜¯å¾ˆå–œæ¬¢Cinnamonçš„è®¾è®¡ï¼Œæ‰€ä»¥æ²¡æœ‰ä½¿ç”¨å®ƒ</p>
<h2 id="kde-plasma">KDE Plasma</h2>
<blockquote>
<p>Plasma is a graphical shell developed by KDE for Unix-like operating systems. Plasma is a standard desktop interface.</p>
</blockquote>
<blockquote>
<p>KDE æ˜¯ä¸€å¥—ç”± Plasma æ¡Œé¢ç¯å¢ƒã€ä¸€ç³»åˆ—çš„åº“ã€æ¡†æ¶ï¼ˆKDE Frameworksï¼‰å’Œä¸€äº›åº”ç”¨ç»„æˆçš„è½¯ä»¶é¡¹ç›®ã€‚</p>
</blockquote>
<p>ç›®å‰åœ¨ç”¨çš„æ¡Œé¢ï¼Œè‡ªå®šä¹‰ç¨‹åº¦å¾ˆé«˜ï¼Œè®°å½•ä¸‹é…ç½®è¿‡ç¨‹</p>
<h3 id="æ±‰åŒ–ä¸å®Œå…¨">æ±‰åŒ–ä¸å®Œå…¨</h3>
<p>è¡¨ç°ä¸ºè®¾ç½®/æ–‡ä»¶ç®¡ç†å™¨ä¸€åŠä¸­æ–‡ä¸€åŠè‹±æ–‡</p>
<p>ç¼–è¾‘<code>~/.config/plasma-localerc</code>å°†<code>LANG=h_CN</code>æ”¹ä¸º<code>LANG=zh_CN.UTF-8</code>ï¼Œé‡å¯åå³å¯è§£å†³</p>
<h3 id="ç³»ç»Ÿä»£ç†">ç³»ç»Ÿä»£ç†</h3>
<ol>
<li>
<p>æ‰‹æœºä»£ç†è®¾ç½®-å…è®¸æ¥è‡ªå±€åŸŸç½‘è¿æ¥ï¼Œè®°å½•ç«¯å£;åœ¨è®¾ç½®-ç½‘ç»œè®¾ç½®-ä»£ç†æœåŠ¡å™¨ä¸­é€‰æ‹©-ä½¿ç”¨æ‰‹åŠ¨æŒ‡å®šçš„çš„ä»£ç†æœåŠ¡å™¨é…ç½®</p>
</li>
<li>
<p>æ‰‹æœºä»»æ„ç»ˆç«¯<code>su</code>åä½¿ç”¨<code>ifconfig</code>è·å–æœ¬æœºIP,å¡«å…¥ä»£ç†è®¾ç½®</p>
</li>
<li>
<p>ç»ˆç«¯èµ°ä»£ç†</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>export https_proxy<span style="color:#f92672">=</span>http://127.0.0.1:7890 http_proxy<span style="color:#f92672">=</span>http://127.0.0.1:7890 all_proxy<span style="color:#f92672">=</span>socks5://127.0.0.1:7891
</span></span></code></pre></div><p><code>7890</code>/<code>7891</code>ä¸ºç«¯å£å·ï¼Œ<code>127.0.0.1</code>ä¸ºIP</p>
<h3 id="å¸¸ç”¨åº”ç”¨">å¸¸ç”¨åº”ç”¨</h3>
<h4 id="1-neovim">1. neovim</h4>
<p>ä½¿ç”¨<a href="https://github.com/ayamir/nvimdots">nvimdots</a>é…ç½®ï¼Œå¦ä¸€é€‰æ‹©<a href="https://github.com/NvChad/NvChad">NcChad</a></p>
<blockquote>
<p>LazyVim is a Neovim setup powered by ğŸ’¤ lazy.nvim to make it easy to customize and extend your config. Rather than having to choose between starting from scratch or using a pre-made distro, LazyVim offers the best of both worlds - the flexibility to tweak your config as needed, along with the convenience of a pre-configured setup.</p>
</blockquote>
<h5 id="11-å®‰è£…">1.1 å®‰è£…</h5>
<ol>
<li>1.1.1 <strong>ä¾èµ–</strong><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
</ol>
<ul>
<li>Neovim &gt;= 0.9.0 (needs to be built with LuaJIT)</li>
<li>Git &gt;= 2.19.0 (for partial clones support)</li>
<li>a Nerd Font (optional)</li>
<li>a C compiler for nvim-treesitter. See here</li>
</ul>
<ol start="2">
<li>1.1.2 å®‰è£…</li>
</ol>
<p>å…‹éš†é…ç½®</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone https://github.com/LazyVim/starter ~/.config/nvim
</span></span></code></pre></div><p>nvimå¯åŠ¨!</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nvim
</span></span></code></pre></div><h5 id="12-nvimä¸‹çš„å¤åˆ¶ç²˜è´´">1.2 nvimä¸‹çš„å¤åˆ¶ç²˜è´´</h5>
<p><code>sudo pacman -S xclip</code>å®‰è£…xclipåï¼Œä½¿ç”¨<code>v</code>é€‰ä¸­è¦å¤åˆ¶çš„å†…å®¹ï¼Œ<code>y</code>å¤åˆ¶ï¼Œ<code>p</code>ç²˜è´´ï¼Œ<code>d</code>å‰ªåˆ‡</p>
<h4 id="2-neofetch">2. neofetch</h4>
<p>ç›¸ä¿¡ç”¨è¿‡Linuxçš„éƒ½å¬è¯´è¿‡è¿™ä¸ªè½¯ä»¶ï¼Œå®ƒèƒ½æ˜¾ç¤ºç³»ç»ŸAscii artå’Œç¡¬ä»¶ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹<code>~/.config/neofetch/config.conf</code>è¿›è¡Œé…ç½®</p>
<p>å‚è€ƒ<a href="https://github.com/Kicamon/dotfile/blob/main/neofetch/config.conf">Kicamon</a>çš„é…ç½®ï¼Œè¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ï¼Œç”¨<code>-</code>ä»£æ›¿å›¾æ ‡</p>
<h4 id="3-ç½‘æ˜“äº‘éŸ³ä¹">3. ç½‘æ˜“äº‘éŸ³ä¹</h4>
<p>å†™æ–‡ç« æ—¶æ²¡ç‚¹éŸ³ä¹æ€ä¹ˆè¡Œï¼Œç›®å‰Archä¸‹æˆ‘è®¤ä¸ºæ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ³•ä¸€æ˜¯<a href="https://github.com/qier222/YesPlayMusic">yesplaymusic</a>ï¼Œç¬¬äºŒä¸ªå°±æ˜¯<a href="https://github.com/go-musicfox/go-musicfox">go-musicfox</a></p>
<p>ä¸è¿‡yesplaymusicå°è¯•è¿‡ä¸‰ç§ç™»é™†æ–¹å¼å‡æ— æ³•ç™»é™†ï¼Œé‚åªèƒ½ä½¿ç”¨go-musicfox</p>
<blockquote>
<p>go-musicfoxæ˜¯ç”¨Goå†™çš„åˆä¸€æ¬¾ç½‘æ˜“äº‘éŸ³ä¹å‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œæ”¯æŒUnblockNeteaseMusicã€å„ç§éŸ³è´¨çº§åˆ«ã€lastfmã€MPRISã€MacOSäº¤äº’å“åº”ï¼ˆç¡çœ æš‚åœã€è“ç‰™è€³æœºè¿æ¥æ–­å¼€å“åº”ã€èœå•æ æ§åˆ¶ç­‰ï¼‰&hellip;</p>
</blockquote>
<ol>
<li>ä½¿ç”¨<code>pacman -S go-musicfox</code>å®‰è£…go-musicfox</li>
<li>è¾“å…¥<code>musicfox</code>è¿›å…¥tui</li>
<li>ç‚¹å‡»-<code>æˆ‘çš„æ­Œå•</code>è¿›è¡Œç™»é™†</li>
</ol>
<h5 id="31-æ— æ³•æ’­æ”¾">3.1 æ— æ³•æ’­æ”¾</h5>
<p>å¦‚æœä½ å¾ˆå¹¸è¿ï¼Œèƒ½ç›´æ¥æ’­æ”¾ï¼Œå¯ä»¥å¿½ç•¥è¿™ä¸€æ­¥</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S pulseaudio-alsa libavtp
</span></span></code></pre></div><p>å®‰è£…ç¼ºå°‘çš„ä¸¤ä¸ªåŒ…å°±å¯ä»¥æ’­æ”¾äº†</p>
<h5 id="32-å¿«æ·é”®">3.2 å¿«æ·é”®</h5>
<table>
<thead>
<tr>
<th>æŒ‰é”®</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>â†</code>  <code>h</code></td>
<td>å·¦æ–¹å‘</td>
</tr>
<tr>
<td><code>â†’</code> <code>l</code></td>
<td>å³æ–¹å‘</td>
</tr>
<tr>
<td><code>â†‘</code> <code>k</code></td>
<td>ä¸Šæ–¹å‘</td>
</tr>
<tr>
<td><code>â†“</code> <code>j</code></td>
<td>ä¸‹æ–¹å‘</td>
</tr>
<tr>
<td><code>-</code> <code>æ»šè½®ä¸‹</code></td>
<td>å‡å°éŸ³é‡</td>
</tr>
<tr>
<td><code>=</code> <code>æ»šè½®ä¸Š</code></td>
<td>å¢å¤§éŸ³é‡</td>
</tr>
<tr>
<td><code>q</code></td>
<td>é€€å‡º</td>
</tr>
<tr>
<td><code>Space</code> (ç©ºæ ¼)</td>
<td>æš‚åœ/æ’­æ”¾</td>
</tr>
</tbody>
</table>
<p>æ›´å¤šå¿«æ·é”®è¯·çœ‹<a href="https://github.com/go-musicfox/go-musicfox">README</a></p>
<h3 id="bash">Bash</h3>
<p>è¿™æ¬¡å®‰è£…æˆ‘ç¦»å¼€äº†Zshï¼Œé‡æ–°å›åˆ°äº†Bashçš„æ€€æŠ±ï¼Œä½†é»˜è®¤çš„Promptå¤ªä¸‘äº†ï¼Œåªæ˜¾ç¤ºæœ€åä¸€çº§è·¯å¾„ï¼Œäºæ˜¯<del>æŠ„</del>å‚è€ƒ<a href="https://gitweb.gentoo.org/repo/gentoo.git/tree/app-shells/bash/files/bashrc/">Gentoo</a>çš„<code>.bashrc</code>ï¼Œé‡æ–°é…ç½®äº†ä¸‹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-.bashrc" data-lang=".bashrc"><span style="display:flex;"><span><span style="color:#75715e"># /etc/bash/bashrc</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># This file is sourced by all *interactive* bash shells on startup,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># including some apparently interactive shells such as scp and rcp</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># that can&#39;t tolerate any output.  So make sure this doesn&#39;t display</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># anything or bad things will happen!</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Test for an interactive shell.  There is no need to set anything</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># past this point for scp and rcp, and it&#39;s important to refrain from</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># outputting anything in those cases.</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> $- !<span style="color:#f92672">=</span> *i* <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Shell is non-interactive.  Be done now!</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Bash won&#39;t get SIGWINCH if another process is in the foreground.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Enable checkwinsize so that bash will check the terminal size when</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># it regains control.  #65623</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># http://cnswww.cns.cwru.edu/~chet/bash/FAQ (E11)</span>
</span></span><span style="display:flex;"><span>shopt -s checkwinsize
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Disable completion when the input buffer is empty.  i.e. Hitting tab</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># and waiting a long time for bash to expand all of $PATH.</span>
</span></span><span style="display:flex;"><span>shopt -s no_empty_cmd_completion
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Enable history appending instead of overwriting when exiting.  #139609</span>
</span></span><span style="display:flex;"><span>shopt -s histappend
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Save each command to the history file as it&#39;s executed.  #517342</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># This does mean sessions get interleaved when reading later on, but this</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># way the history is always up to date.  History is not synced across live</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sessions though; that is what `history -n` does.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Disabled by default due to concerns related to system recovery when $HOME</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># is under duress, or lives somewhere flaky (like NFS).  Constantly syncing</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># the history will halt the shell prompt until it&#39;s finished.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#PROMPT_COMMAND=&#39;history -a&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Change the window title of X terminals</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#e6db74">${</span>TERM<span style="color:#e6db74">}</span> in
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>aEkx<span style="color:#f92672">]</span>term* | rxvt* | gnome* | konsole* | interix | tmux*<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>	PS1<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\[\033]0;\u@\h:\w\007\]&#39;</span>
</span></span><span style="display:flex;"><span>	;;
</span></span><span style="display:flex;"><span>screen*<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>	PS1<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\[\033_\u@\h:\w\033\\\]&#39;</span>
</span></span><span style="display:flex;"><span>	;;
</span></span><span style="display:flex;"><span>*<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>	unset PS1
</span></span><span style="display:flex;"><span>	;;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">esac</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Set colorful PS1 only on colorful terminals.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># dircolors --print-database uses its own built-in database</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># instead of using /etc/DIR_COLORS.  Try to use the external file</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># first to take advantage of user additions.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># We run dircolors directly due to its changes in file syntax and</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># terminal name patching.</span>
</span></span><span style="display:flex;"><span>use_color<span style="color:#f92672">=</span>false
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> type -P dircolors &gt;/dev/null; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Enable colors for ls, etc.  Prefer ~/.dir_colors #64489</span>
</span></span><span style="display:flex;"><span>	LS_COLORS<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> -f ~/.dir_colors <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>		eval <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>dircolors -b ~/.dir_colors<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">elif</span> <span style="color:#f92672">[[</span> -f /etc/DIR_COLORS <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>		eval <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>dircolors -b /etc/DIR_COLORS<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>		eval <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>dircolors -b<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Note: We always evaluate the LS_COLORS setting even when it&#39;s the</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># default.  If it isn&#39;t set, then `ls` will only colorize by default</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># based on file attributes and ignore extensions (even the compiled</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># in defaults of dircolors). #583814</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> -n <span style="color:#e6db74">${</span>LS_COLORS:+set<span style="color:#e6db74">}</span> <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>		use_color<span style="color:#f92672">=</span>true
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e"># Delete it if it&#39;s empty as it&#39;s useless in that case.</span>
</span></span><span style="display:flex;"><span>		unset LS_COLORS
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># Some systems (e.g. BSD &amp; embedded) don&#39;t typically come with</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># dircolors so we need to hardcode some terminals in here.</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">case</span> <span style="color:#e6db74">${</span>TERM<span style="color:#e6db74">}</span> in
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">[</span>aEkx<span style="color:#f92672">]</span>term* | rxvt* | gnome* | konsole* | screen | tmux | cons25 | *color<span style="color:#f92672">)</span> use_color<span style="color:#f92672">=</span>true ;;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">esac</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#e6db74">${</span>use_color<span style="color:#e6db74">}</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> <span style="color:#e6db74">${</span>EUID<span style="color:#e6db74">}</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>		PS1<span style="color:#f92672">+=</span><span style="color:#e6db74">&#39;\[\033[01;31m\]\h\[\033[01;34m\] \w \$\[\033[00m\] &#39;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>		PS1<span style="color:#f92672">+=</span><span style="color:#e6db74">&#39;\[\033[01;32m\]\u@\h\[\033[01;34m\] \w \$\[\033[00m\] &#39;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">#BSD#@export CLICOLOR=1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	alias ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls --color=auto&#39;</span>
</span></span><span style="display:flex;"><span>	alias grep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;grep --colour=auto&#39;</span>
</span></span><span style="display:flex;"><span>	alias la<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -A&#39;</span>
</span></span><span style="display:flex;"><span>	alias ll<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -alF&#39;</span>
</span></span><span style="display:flex;"><span>	alias l<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -CF&#39;</span>
</span></span><span style="display:flex;"><span>	alias n<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;neofetch&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e"># show root@ when we don&#39;t have colors</span>
</span></span><span style="display:flex;"><span>	PS1<span style="color:#f92672">+=</span><span style="color:#e6db74">&#39;\u@\h \w \$ &#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> sh in /etc/bash/bashrc.d/*; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">[[</span> -r <span style="color:#e6db74">${</span>sh<span style="color:#e6db74">}</span> <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> source <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>sh<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Try to keep environment pollution down, EPA loves us.</span>
</span></span><span style="display:flex;"><span>u
</span></span></code></pre></div><p>ä¸»è¦æ·»åŠ äº†åˆ«åï¼Œå…¶ä»–çš„å¯ä»¥è‡ªå·±ä¿®æ”¹</p>
<p>è¿˜æœ‰ä¸€ä¸ªé•°åˆ€é”¤å­é…ç½®ä¹Ÿè›®å¥½çœ‹çš„ï¼Œä½†ä½¿ç”¨<code>â†‘</code>é”®æŸ¥çœ‹å†å²å‘½ä»¤æ—¶æœ‰Bug,ä¸ä»‹æ„çš„å¯ä»¥ç”¨</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-.bashrc" data-lang=".bashrc"><span style="display:flex;"><span> PS1<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;\e[1;32m\w\n\e[1;33mâ˜­ \[</span><span style="color:#66d9ef">$(</span>tput sgr0<span style="color:#66d9ef">)</span><span style="color:#e6db74">\]&#34;</span>
</span></span></code></pre></div><p>é…ç½®æ¥æº <a href="https://www.zhihu.com/question/19803678/answer/1001803388">ä½ æ€ä¹ˆè®¾ç½®ç»ˆç«¯ PS1 prompt</a></p>
<h4 id="sddmç¾åŒ–">SDDMç¾åŒ–</h4>
<p>æˆ‘ä»¬æ›´æ¢å£çº¸åä¸€èˆ¬è¿åŒSDDMçš„èƒŒæ™¯ä¸€èµ·æ¢äº†ï¼Œä½†è®¾ç½®é‡Œçš„SDDMä¸»é¢˜ç®¡ç†å®åœ¨æ˜¯éš¾ç”¨ï¼Œç»å¸¸æ‰“ä¸å¼€æ›´æ¢ç•Œé¢ï¼Œæ¨èç›´æ¥åˆ°ä¸»é¢˜ç›®å½•ä¸‹æ›´æ¢</p>
<ol>
<li>
<p>cdåˆ°éœ€è¦é…ç½®çš„SDDMä¸»é¢˜ç›®å½•<code>/usr/share/sddm/themes/</code></p>
</li>
<li>
<p>è¿›å…¥ä¸»é¢˜æ–‡ä»¶å¤¹ï¼Œä½ ä¼šçœ‹è§ä¹‹å‰è®¾ç½®çš„èƒŒæ™¯(è‹¥æœ‰çš„è¯)ï¼Œå’Œä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯é¢„è®¾é…ç½®<code>theme.conf</code>å’Œç”¨æˆ·é…ç½®<code>theme.conf.user</code></p>
</li>
<li>
<p>ç¼–è¾‘ç”¨æˆ·é…ç½®<code>theme.conf.user</code>ï¼Œæ‰¾åˆ°<code>background=100857791_p113767970.png</code>è¿™ä¸€è¡Œï¼Œå¯ä»¥çœ‹åˆ°ç›®å‰æˆ‘çš„èƒŒæ™¯ä¸º<code>100857791_p113767970.png</code></p>
</li>
<li>
<p>å°†è¦è®¾ç½®çš„èƒŒæ™¯ç§»å…¥ä¸»é¢˜æ–‡ä»¶å¤¹ï¼Œå°†<code>background=</code>åçš„æ–‡ä»¶åæ”¹ä¸ºè¦è®¾ç½®çš„æ–‡ä»¶å</p>
</li>
<li>
<p>é‡å¯å³å¯</p>
</li>
</ol>
<h2 id="å†…æ ¸ç¼–è¯‘">å†…æ ¸ç¼–è¯‘</h2>
<p>Archä¸‹çš„å†…æ ¸ç¼–è¯‘åªéœ€è¦å®‰è£…ä¸¤ä¸ªåŒ…å³å¯</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S bc inetutils
</span></span></code></pre></div><p># inetutilsæä¾›hostsname</p>
<p>åˆ°è¿™é‡ŒArchçš„é…ç½®ä¹ŸåŸºæœ¬å®Œæˆäº†ï¼Œæˆ‘ä¹Ÿå¯ä»¥ç¡ä¸ªå¥½è§‰äº†&hellip;</p>
<p>å†æ’ä¸€å˜´ï¼Œuuä»¬æœ‰å¥½çš„å›¾åºŠæˆ–å¯¹è±¡å‚¨å­˜æ¨èå—ï¼Œåšå®¢è€æ²¡å›¾ç‰‡ä¹Ÿä¸è¡Œï¼Œæœ€å¥½èƒ½ä¾¿å®œç‚¹</p>
<h2 id="å‚è€ƒå¼•ç”¨">å‚è€ƒ|å¼•ç”¨</h2>
<ul>
<li><a href="https://blog.ticks.cc/">ticks blog</a> åŸæ–‡é“¾æ¥å¤±æ•ˆ</li>
</ul>
<ul>
<li>
<p><a href="https://en.wikipedia.org/">Wikipedia</a></p>
</li>
<li>
<p><a href="https://wiki.archlinuxcn.org/wiki/KDE">KDE</a></p>
</li>
</ul>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://github.com/LazyVim/LazyVim?tab=readme-ov-file#%EF%B8%8F-requirements">LazyVim</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
]]></description>
      
    </item>
    
    
    
    <item>
      <title>KernelSUå†…æ ¸ç¼–è¯‘</title>
      <link>https://blog.sorgdream.com/posts/kernelsu/</link>
      <pubDate>Sat, 05 Aug 2023 00:00:00 +0000</pubDate>
      
      <guid>https://blog.sorgdream.com/posts/kernelsu/</guid>
      <description><![CDATA[<h2 id="ç¯å¢ƒæ­å»º">ç¯å¢ƒæ­å»º</h2>
<p>æ­å»ºç¼–è¯‘æ‰€éœ€çš„ç¯å¢ƒ</p>
<h3 id="ç³»ç»Ÿå®‰è£…">ç³»ç»Ÿå®‰è£…</h3>
<p>æ•™ç¨‹åŸºäºubuntuï¼Œä½ å¯ä»¥é€‰æ‹©å®æœºå®‰è£…æˆ–è€…ä½¿ç”¨wsl2,å¦‚ä½•å®‰è£…è¯·çœ‹<a href="https://learn.microsoft.com/zh-cn/windows/wsl/install">ä½¿ç”¨ WSL åœ¨ Windows ä¸Šå®‰è£… Linux</a></p>
<blockquote>
<p>æ³¨ï¼šwslä¸‹çš„æ–‡ä»¶ä¼ è¾“éœ€å°†æ–‡ä»¶ç§»åŠ¨åˆ°æŒ‚è½½ç‚¹<code>/mnt/c</code></p>
</blockquote>
<h3 id="ç¼–è¯‘ç¯å¢ƒ">ç¼–è¯‘ç¯å¢ƒ</h3>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…æ‰€éœ€è½¯ä»¶åŒ…</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sudo apt install -y bc bison build-essential curl flex g++-multilib gcc-multilib <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>                    git gnupg gperf imagemagick lib32ncurses5-dev lib32readline-dev <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>                    lib32z1-dev liblz4-tool libncurses5 libncurses5-dev libsdl1.2-dev <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>                    libssl-dev libxml2 libxml2-utils lzop pngcrush schedtool <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>                    squashfs-tools xsltproc zip zlib1g-dev unzip  
</span></span></code></pre></div><h3 id="ç³»ç»Ÿä»£ç†">ç³»ç»Ÿä»£ç†</h3>
<p>å¦‚æœä½ çš„è®¾å¤‡èƒ½å¤Ÿç›´è¿Githubï¼Œå¹¶ä¸”é€Ÿåº¦è¿˜ä¸é”™ï¼Œé‚£ä½ å¯ä»¥å¿½è§†è¿™ä¸€æ­¥
<!-- raw HTML omitted -->æˆ‘ä»¬ä½¿ç”¨clashä½œä¸ºä»£ç†å·¥å…·</p>
<h4 id="linux">Linux</h4>
<p>è¯·çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« <a href="https://blog.inuya.ltd/posts/clash/">Clash-For-Linux</a></p>
<h4 id="windows">Windows</h4>
<ol>
<li>ä¸‹è½½<a href="https://github.com/Z-Siqi/Clash-for-Windows_Chinese/releases">Clash-For-Windows</a>(å·²å­˜æ¡£)</li>
<li>éƒ½æœ‰å›¾å½¢åŒ–æ“ä½œç•Œé¢äº†è¿˜è¦æˆ‘æ•™ï¼Ÿ</li>
<li>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®ç»ˆç«¯ä»£ç†</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>export https_proxy<span style="color:#f92672">=</span>http://127.0.0.1:7890 http_proxy<span style="color:#f92672">=</span>http://127.0.0.1:7890 all_proxy<span style="color:#f92672">=</span>socks5://127.0.0.1:7891
</span></span></code></pre></div><h2 id="æºç ä¸‹è½½">æºç ä¸‹è½½</h2>
<p>ç°åœ¨å¼€å§‹ä¸‹è½½æ‰€éœ€çš„å†…æ ¸æºç å’Œå·¥å…·ï¼Œæˆ‘ä»¬æœ€å¥½åˆ›å»ºä¸€ä¸ªå·¥ä½œç›®å½•</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>mkdir -p kernel  <span style="color:#f92672">&amp;&amp;</span> cd kernel <span style="color:#75715e">#åˆ›å»ºå¹¶è¿›å…¥å·¥ä½œç›®å½•</span>
</span></span><span style="display:flex;"><span>mkdir -p toolchains  <span style="color:#75715e">#å·¥å…·é“¾ç›®å½•</span>
</span></span><span style="display:flex;"><span>mkdir -p source  <span style="color:#75715e">#å†…æ ¸æºç ç›®å½•</span>
</span></span></code></pre></div><h3 id="å†…æ ¸æºç ">å†…æ ¸æºç </h3>
<p>å¦‚æœä½ æ˜¯å°ç±³ç”¨æˆ·ï¼Œä½ å¯ä»¥è¯•ç€ä¸‹å®˜æ–¹çš„æºç ï¼Œä¸è¿‡å®˜æ–¹çš„æºç å¯èƒ½ä¸èƒ½æˆåŠŸç¼–è¯‘ï¼Œè€Œä¸”å¹´ä¹…å¤±ä¿®ï¼Œå¤§éƒ¨åˆ†æ–°æœºéƒ½æ²¡æœ‰å…¬å¸ƒæºç ï¼Œæ‰€ä»¥è¿˜æ˜¯å»ºè®®ä½¿ç”¨ç±»åŸç”Ÿçš„æºç </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>å®˜æ–¹æºç ä»“åº“
</span></span><span style="display:flex;"><span>https://github.com/MiCode/Xiaomi_Kernel_OpenSource
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>å¦‚æœè¦ä¸‹è½½çš„è¯è¯·ä½¿ç”¨ git å‘½ä»¤
</span></span><span style="display:flex;"><span>git clone --depth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> https://github.com/MiCode/Xiaomi_Kernel_OpenSource -b cannon-r-oss  
</span></span></code></pre></div><p><code>cannon-r-oss</code>æ˜¯ä½œè€…çš„æ‰‹æœºä»£å·ï¼Œéœ€å°†<code>cannon-r-oss</code>æ¢æˆè‡ªå·±æºç çš„åˆ†æ”¯</p>
<p>ç±»åŸç”Ÿçš„è¯å°±ç®€å•å¤šäº†ï¼Œç‚¹å‡»ä»“åº“å³ä¸Šè§’çš„<strong>code</strong>,æŠŠHTTPSçš„é“¾æ¥å¤åˆ¶ä¸‹æ¥</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>git clone xxxxxxxxxxxx.git  <span style="color:#75715e"># xxxxxxxx.gitæ¢æˆè‡ªå·±çš„é“¾æ¥</span>
</span></span></code></pre></div><h3 id="æ·»åŠ kernelsu">æ·»åŠ KernelSU</h3>
<p>åªéœ€ä½¿ç”¨</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>curl -LSs <span style="color:#e6db74">&#34;https://raw.githubusercontent.com/tiann/KernelSU/main/kernel/setup.sh&#34;</span> | bash -
</span></span></code></pre></div><p>å³å¯å°†KernelSUæ·»åŠ åˆ°å†…æ ¸æºç æ ‘
<!-- raw HTML omitted -->ç„¶åéœ€è¦ç¼–è¾‘ä½ çš„é…ç½®æ–‡ä»¶ï¼Œé€šå¸¸åœ¨<code>arch/arm64/configs/</code>ï¼Œè¾ƒæ–°çš„æœºå‹ä¹Ÿå¯èƒ½åœ¨<code>arch/arm64/configs/vendor/</code></p>
<p>è¿›å…¥æ–‡ä»¶å¤¹ï¼Œæ‰¾åˆ°ç±»ä¼¼<code>è®¾å¤‡ä»£å·_defconfig</code>çš„æ–‡ä»¶ï¼Œæ¯”å¦‚æˆ‘çš„ä»£å·æ˜¯<strong>cannon</strong>ï¼Œé…ç½®æ–‡ä»¶å°±æ˜¯<code>cannon_defconfig</code></p>
<p>ä½¿ç”¨<strong>vim</strong>ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œç”¨<code>ESC+/</code>è¿›å…¥æŸ¥æ‰¾ï¼Œåœ¨/åé¢è¾“å…¥ä½ è¦æ‰¾çš„å†…å®¹ï¼Œä¾‹å¦‚<code>/KPROBES</code>
<!-- raw HTML omitted -->å¦‚æœæ²¡æœ‰å¼€å¯ç›¸å…³çš„é…ç½®ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ </p>
<pre tabindex="0"><code>CONFIG_KPROBES=y
CONFIG_HAVE_KPROBES=y
CONFIG_KPROBE_EVENTS=y
</code></pre><h3 id="å·¥å…·é“¾ä¸‹è½½">å·¥å…·é“¾ä¸‹è½½</h3>
<p>ä½œè€…ä½¿ç”¨zys-clang12å’Œgcc4.9è¿›è¡Œç¼–è¯‘
<!-- raw HTML omitted -->å› ä¸ºzyc-clangéœ€è¦ä¸‹è½½å‹ç¼©åŒ…å¹¶è§£å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆä½¿ç”¨<strong>git</strong>ä¸‹è½½gcc</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>git clone https://github.com/LineageOS/android_prebuilts_gcc_linux-x86_arm_arm-linux-androideabi-4.9.git
</span></span></code></pre></div><p>æµè§ˆå™¨è®¿é—®</p>
<pre tabindex="0"><code>https://github.com/ZyCromerZ/Clang/releases/download/12.0.1-20230207-release/Clang-12.0.1-20230207.tar.gz
</code></pre><p>ä¸‹è½½zyc-clang</p>
<p>ä¸‹è½½å®Œæˆåç”¨<code>tar -zxvf xxxx.tar.gz</code>è§£å‹</p>
<p>å¦‚æœè§‰å¾—ç›®å½•å¤ªå¸¸ä¸æ–¹ä¾¿çš„è¯ï¼Œå¯ä»¥ç”¨<strong>mv</strong>å‘½ä»¤é‡å‘½åæ–‡ä»¶å¤¹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>mv &lt;åŸåç§°&gt; &lt;ä½ æƒ³æ”¹çš„åç§°&gt;   
</span></span></code></pre></div><h2 id="ç¼–è¯‘è„šæœ¬">ç¼–è¯‘è„šæœ¬</h2>
<p>ä¸€èˆ¬æˆ‘ä»¬ä¼šç”¨ä¸€ä¸ªç¼–è¯‘è„šæœ¬è®¾ç½®ç¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶ç­‰
<!-- raw HTML omitted -->æˆ‘çš„è„šæœ¬æ˜¯<del>æŠ„</del>å‚è€ƒåˆ«äººæ•™ç¨‹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>vim build.sh <span style="color:#75715e">#åˆ›å»ºç¼–è¯‘è„šæœ¬ </span>
</span></span></code></pre></div><p>å†™å…¥ä»¥ä¸‹å†…å®¹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>starttime<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>date +<span style="color:#e6db74">&#39;%Y-%m-%d %H:%M:%S&#39;</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>export ARCH<span style="color:#f92672">=</span>arm64
</span></span><span style="display:flex;"><span>export SUBARCH<span style="color:#f92672">=</span>arm64
</span></span><span style="display:flex;"><span>make O<span style="color:#f92672">=</span>out cannon_defconfig
</span></span><span style="display:flex;"><span>              make -j8 O<span style="color:#f92672">=</span>out <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    NM<span style="color:#f92672">=</span>~/kernel/toolchains/clang-12/bin/llvm-nm <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    OBJCOPY<span style="color:#f92672">=</span>~/kernel/toolchains/clang-12/bin/llvm-objcopy <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    LD<span style="color:#f92672">=</span>~/kernel/toolchains/clang-12/bin/ld.lld <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>        CROSS_COMPILE<span style="color:#f92672">=</span>~/kernel/toolchains/clang-12/bin/aarch64-linux-gnu- <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>        CROSS_COMPILE_ARM32<span style="color:#f92672">=</span>~/kernel/toolchains/gcc-arm-4.9/bin/arm-linux-androideabi- <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>        CC<span style="color:#f92672">=</span>~/kernel/toolchains/clang-12/bin/clang <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>        AR<span style="color:#f92672">=</span>~/kernel/toolchains/clang-12/bin/llvm-ar <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>        OBJDUMP<span style="color:#f92672">=</span>~/kernel/toolchains/clang-12/bin/llvm-objdump <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>        STRIP<span style="color:#f92672">=</span>~/kernel/toolchains/clang-12/bin/llvm-strip
</span></span><span style="display:flex;"><span>        2&gt;&amp;<span style="color:#ae81ff">1</span> | tee error.log
</span></span><span style="display:flex;"><span>endtime<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>date +<span style="color:#e6db74">&#39;%Y-%m-%d %H:%M:%S&#39;</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>start_seconds<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>date --date<span style="color:#f92672">=</span><span style="color:#e6db74">&#34; </span>$starttime<span style="color:#e6db74">&#34;</span> +%s<span style="color:#66d9ef">)</span>;
</span></span><span style="display:flex;"><span>end_seconds<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>date --date<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$endtime<span style="color:#e6db74">&#34;</span> +%s<span style="color:#66d9ef">)</span>;
</span></span><span style="display:flex;"><span>echo Start: $starttime.
</span></span><span style="display:flex;"><span>echo End: $endtime.
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;Build Time: &#34;</span><span style="color:#66d9ef">$((</span>end_seconds-start_seconds<span style="color:#66d9ef">))</span><span style="color:#e6db74">&#34;s.&#34;</span>
</span></span></code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>cannon_defconfig</code>é…ç½®æ–‡ä»¶çš„è·¯å¾„å·²ç»åœ¨<code>arch/arm64/configs/</code></p>
<p>å‡è®¾ä½ çš„é…ç½®æ–‡ä»¶æ˜¯<code>arch/arm64/configs/example_defconfig</code>é‚£ä½ åªéœ€è¦å¡«å†™<code>example_defconfig</code>å³å¯</p>
<p>ä½†å¦‚æœä½ çš„é…ç½®æ–‡ä»¶ä½äº<code>arch/arm64/configs/vendor/example_defconfig</code>åˆ™éœ€è¦å¡«å†™<code>vendor/example_defconfig</code></p>
<h2 id="å¼€å§‹ç¼–è¯‘">å¼€å§‹ç¼–è¯‘</h2>
<p>ç”¨<code>chmod +x build.sh</code>æ·»åŠ æ‰§è¡Œæƒé™ï¼Œ<code>./build.sh</code>æ‰§è¡Œç¼–è¯‘è„šæœ¬ï¼Œäº§å‡ºåœ¨<code>out/arch/arm64/boot</code>ç›®å½•</p>
<h2 id="æ‰“åŒ…å†…æ ¸">æ‰“åŒ…å†…æ ¸</h2>
<p>èƒ½æ¥åˆ°è¿™ä¸€æ­¥ï¼Œä½ åº”è¯¥èƒ½æˆåŠŸç¼–è¯‘å‡ºå†…æ ¸ï¼Œæ­å–œä½ ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å°†å®ƒæ‰“åŒ…æˆbootæˆ–å†…æ ¸åˆ·å…¥</p>
<h3 id="anykernel3">AnyKernel3</h3>
<p>é¡¹ç›®åœ°å€ï¼šhttps://github.com/osm0sis/AnyKernel3</p>
<p>ç”¨<strong>git</strong>ä¸‹è½½AnyKernel3</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>git clone https://github.com/osm0sis/AnyKernel3.git
</span></span></code></pre></div><p>ä½ éœ€è¦æŠŠäº§å‡ºçš„Imageæ”¾åˆ°AnyKernel3çš„æ ¹ç›®å½•ï¼Œç„¶åç¼–è¾‘<code>anykernel.sh</code>
<!-- raw HTML omitted -->éœ€è¦æ”¹çš„æ˜¯ä»¥ä¸‹å‡ ç‚¹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>kernel.string<span style="color:#f92672">=</span>KernelSU-cannon-inuyasha <span style="color:#75715e">#å†…æ ¸åç§°</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>.devicecheck<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> <span style="color:#75715e">#è®¾å¤‡æ£€æµ‹ï¼Œä¸º0æ—¶å…³é—­</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>.modules<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>.systemless<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>.cleanup<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>.cleanuponabort<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>device.name1<span style="color:#f92672">=</span>cannon  <span style="color:#75715e">#è®¾å¤‡ä»£å·ï¼Œå¯ä»¥è®¾ç½®å¤šä¸ª</span>
</span></span><span style="display:flex;"><span>device.name2<span style="color:#f92672">=</span>cannong
</span></span><span style="display:flex;"><span>device.name3<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>device.name4<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>supported.versions<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>supported.patchlevels<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>supported.vendorpatchlevels<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>block<span style="color:#f92672">=</span>auto;   
</span></span><span style="display:flex;"><span>is_slot_device<span style="color:#f92672">=</span>auto;  
</span></span><span style="display:flex;"><span>ramdisk_compression<span style="color:#f92672">=</span>auto; 
</span></span><span style="display:flex;"><span>patch_vbmeta_flag<span style="color:#f92672">=</span>auto; 
</span></span></code></pre></div><p>é…ç½®å®Œåä½¿ç”¨<code>zip -r9 UPDATE-AnyKernel3.zip * -x .git README.md *placeholder</code>å³å¯æ‰“åŒ…å†…æ ¸</p>
<p>å¦‚æœä½¿ç”¨zshï¼Œå¯èƒ½ä¼šæŠ¥é”™<code>not matches found</code>ï¼Œåªéœ€è¦åœ¨<code>.zshrc</code>ä¸­æ·»åŠ </p>
<pre tabindex="0"><code>setopt no_nomatch
</code></pre><p>ç„¶åå†<code>source ~/.zshrc</code>å³å¯è§£å†³</p>
<h3 id="magiskboot">MagiskBoot</h3>
<p>å¦‚æœä½ ä¸å–œæ¬¢ç”¨anykernel3ï¼Œä½ ä¹Ÿå¯ä»¥æå–åŸç‰ˆçš„boot.imgä½¿ç”¨ç¼–è¯‘å‡ºæ¥çš„imageæ›¿æ¢åŸå‚kernel</p>
<ol>
<li>é¦–å…ˆåˆ°<a href="https://github.com/topjohnwu/Magisk/releases">Magisk</a>ä¸‹è½½magisk.apk,é‡å‘½åä¸º.zipå¹¶è§£å‹</li>
<li>æŠŠè§£å‹åçš„<code>Magisk-v26.1/lib/arm64-v8a/libmagiskboot.so</code>æ–‡ä»¶ï¼Œç”¨ adb push åˆ°æ‰‹æœº</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>adb push Magisk-v26.1/lib/arm64-v8a/libmagiskboot.so /data/local/tmp/magiskboot 
</span></span></code></pre></div><p><code>Magisk-v26.1</code>éœ€è¦æ”¹æˆä¸‹è½½çš„ç‰ˆæœ¬å·</p>
<ol start="3">
<li>æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•æŠŠæå–çš„boot.imgå’Œç¼–è¯‘å‡ºçš„Imageéƒ½pushåˆ°æ‰‹æœº</li>
<li>ç”¨<code>adb shell</code>è¿›å…¥adbï¼Œç„¶åè¿›å…¥æ‰‹æœº<code>/data/local/tmp</code>/ç›®å½•ï¼Œèµ‹äºˆmagiskbootå¯æ‰§è¡Œæƒé™<code>chmod +x magiskboot</code></li>
<li>æ‰§è¡Œ<code>./magiskboot unpack boot.img</code>è§£åŒ…boot.imgå¾—åˆ°kernelæ–‡ä»¶</li>
<li>ç”¨<strong>Image</strong>æ›¿æ¢<strong>kernel</strong><code>mv -f Image kernel</code></li>
<li>æœ€åæ‰§è¡Œ<code>./magiskboot repack boot.img</code>å‘½ä»¤é‡æ–°æ‰“åŒ…boot.imgï¼Œå¾—åˆ°<strong>new-boot.img</strong>ï¼Œå¤‡ä»½åŸå‚bootååœ¨fastbootä¸­åˆ·å…¥å³</li>
</ol>
<h2 id="æ‹“å±•">æ‹“å±•</h2>
<p>å¦‚æœkprobeä¸æ­£å¸¸å·¥ä½œï¼Œå°±ä¼šå‡ºç°æ— é™é‡å¯ï¼Œä¸å¼€æœºï¼Œæ›¿æ¢bootåä»æ˜¾ç¤ºä¸æ”¯æŒç­‰é”™è¯¯ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†æ‰‹åŠ¨ä¿®æ”¹æºç é›†æˆksu</p>
<p>é¦–å…ˆè®©æˆ‘ä»¬éªŒè¯æ˜¯å¦ä¸ºkprobeçš„é—®é¢˜ï¼Œ</p>
<ol>
<li>é¦–å…ˆç”¨vimæ‰“å¼€<code>KernelSU/kernel/ksu.c</code></li>
<li>æ‰¾åˆ°<code>ksu_enable_sucompat() å’Œ ksu_enable_ksud()</code>è¿™ä¸¤è¡Œï¼Œä½¿ç”¨<code>//</code>æ³¨é‡Šæ‰</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// ksu_enable_sucompat();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// ksu_enable_ksud()
</span></span></span></code></pre></div><p>å°±åƒè¿™æ ·</p>
<p>é‡æ–°ç¼–è¯‘ä½ çš„å†…æ ¸ï¼Œçœ‹èƒ½å¦å¼€æœºï¼Œå¦‚æœèƒ½æ­£å¸¸å¼€æœºå°±æ˜¯kprobeçš„é—®é¢˜ï¼Œå¦‚æœè¿˜æ˜¯ä¸èƒ½å¼€æœºï¼Œæ£€æŸ¥ä½ çš„æºç æ˜¯å¦é€‚ç”¨ä½ çš„ç³»ç»Ÿ</p>
<h3 id="ä¿®æ”¹å†…æ ¸æºç ">ä¿®æ”¹å†…æ ¸æºç </h3>
<ol>
<li>ä½¿ç”¨è¿™æ¡å‘½æ·»åŠ KSU</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>curl -LSs <span style="color:#e6db74">&#34;https://raw.githubusercontent.com/tiann/KernelSU/main/kernel/setup.sh&#34;</span> | bash -
</span></span></code></pre></div><ol start="2">
<li>å› ä¸ºè¦æ”¹çš„æ¯”è¾ƒå¤šï¼Œæ¨èå»çœ‹<a href="https://kernelsu.org/zh_CN/guide/how-to-integrate-for-non-gki.html">å®˜æ–¹æ–‡æ¡£</a>ï¼Œå†™çš„æ¯”è¾ƒè¯¦ç»†</li>
</ol>
<h3 id="bugreport">BugReport</h3>
<p>å¦‚æœæ‰‹åŠ¨é›†æˆè¿˜æ˜¯å¤±è´¥ï¼Œä½ å¯ä»¥å»Githubæä¾›ä¸€ä¸ª<a href="https://github.com/tiann/KernelSU/issues/new/choose">BugReport</a>ç»™ä½œè€…ï¼Œåœ¨ç®¡ç†å…¶è®¾ç½®ï¼Œå‘é€æ—¥å¿—å³å¯å‘é€é”™è¯¯æ—¥å¿—</p>
<h2 id="å‚è€ƒéƒ¨åˆ†å¼•ç”¨">å‚è€ƒ|éƒ¨åˆ†å¼•ç”¨</h2>
<p><a href="https://kernelsu.org/zh_CN/guide/how-to-integrate-for-non-gki.html">å¦‚ä½•ä¸ºé GKI å†…æ ¸é›†æˆ KernelSU </a></p>
<p><a href="https://blog.ticks.cc/posts/id/ef0vy/">çº¢ç±³K40å†…æ ¸KernelSUç¼–è¯‘</a></p>
<p><a href="https://zixijian.github.io/2021/01/15/008.html"> æ‰‹æœºç«¯ç¼–è¯‘å®‰å“å†…æ ¸</a></p>]]></description>
      
    </item>
    
    
  </channel>
</rss>
